<!DOCTYPE html>
{% extends 'app/layout.html' %}

{% block content %}
<headr>
    <meta charset="UTF-8">
    <title>View Booking by Room Number</title>
</headr>
<tbody>
    <h1>View Booking</h1>
    <form method="post">
        {% csrf_token %}
        <label for="roomNumber">Room Number:</label>
        <input type="text" id="roomNumber" name="roomNumber" required><br>
        <button type="submit">View Booking</button>
    </form>
    {% if booking %}
    <h2>Booking Details</h2>
    <table border="1" style="border-collapse: collapse; width: 100%; text-align: left;">
        <thead>
            <tr>
                <th>Room Number</th>
                <th>Customer Name</th>
                <th>Customer Email</th>
                <th>Customer Phone</th>
                <th>Check-In Date</th>
                <th>Check-Out Date</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody>
            {% for b in booking %}
            <tr>
                <td>{{ b.roomNumber }}</td>
                <td>{{ b.customerName }}</td>
                <td>{{ b.customerEmail }}</td>
                <td>{{ b.customerPhone }}</td>
                <td>{{ b.checkInDate }}</td>
                <td>{{ b.checkOutDate }}</td>
                <td>{{ b.totalPrice }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% elif error %}
    <p style="color: red;">{{ error }}</p>
    {% endif %}
    <script>
        console.log("Page loaded successfully.");
    </script>
</tbody>
{% endblock %}
